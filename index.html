<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Creation - Beta</title>

		<link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png">
		<link rel="icon" type="image/png" sizes="192x192"  href="/favicon/android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
		<link rel="manifest" href="/favicon/manifest.json">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png">
		<meta name="theme-color" content="#ffffff">

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107754281-3"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-107754281-3');
		</script>

		<link rel="stylesheet" href="/resources/bootstrap.min.css">
		<link rel="stylesheet" href="resources/animate.min.css">
		<link rel="stylesheet" href="style.css">
	</head>

	<body class="container">
		<div id="app">
			<div class="row">
				<div class="col-12">
					<nav class="navbar navbar-dark bg-primary">
						<span class="navbar-text">
							Energy: {{ format(energy) }}
						</span>
						<span class="navbar-text">
							Fluctuations: {{ format(eff) }}
						</span>
						<span class="navbar-text" v-if="wisdom.gt(1)">
							Level: {{ format(wisdom) }}
						</span>
					</nav>
				</div>
			</div>
			
			<br>

			<div class="row">
				<div class="col-12">
					<h1>
						The {{ stages[stage] }}
					</h1>

					<p>
						This is a beta version. It is incomplete and there are many bugs.
					</p>

					<nav class="nav nav-pills">
						<a
							class="nav-link"
							:class="[menu === 0 ? 'active' : '']"
							href="#"
							@click.prevent="menu = 0">
							Creation
						</a>
						<a
							class="nav-link"
							:class="[menu === 1 ? 'active' : '']"
							href="#"
							@click.prevent="menu = 1">
							Advancement
						</a>
						<a
							class="nav-link"
							:class="[menu === 2 ? 'active' : '']"
							href="#"
							@click.prevent="menu = 2">
							Recreation
						</a>
						<a
							class="nav-link"
							:class="[menu === 3 ? 'active' : '']"
							href="#"
							@click.prevent="menu = 3">
							Statistics
						</a>
						<a
							class="nav-link"
							:class="[menu === 4 ? 'active' : '']"
							href="#"
							@click.prevent="menu = 4">
							Settings
						</a>
					</nav>
				</div>
			</div>

			<br>

			<transition
				enter-active-class="animated zoomIn"
				leave-active-class="animated flipOutX"
				mode="out-in">
				<div v-if="menu === 0" key="species">
					<div class="row">
						<div class="col-12">
							<h2 class="text-center">Fluctuator</h2>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-3 col-12">
							<nav class="nav nav-pills flex-column select-menu">
								<a
									v-for="(fluc, id) in fluctuator"
									v-if="stage >= fluc.unlocked"
									class="nav-link"
									:class="[fluctuatorMenu === id ? 'active bg-danger' : 'text-danger']"
									href="#"
									@click.prevent="fluctuatorMenu = id">
									{{ fluc.name[stage] }}
								</a>
							</nav>
						</div>
						<div class="col-lg-9 col-12">
							<h3>{{ currentFluctuator.name[stage] }}</h3>
							<p>
								Amount: {{ format(currentFluctuator.amount) }}
								<br>
								FPS per {{ currentFluctuator.name[stage] }}:
								{{ format(currentFluctuator.fps.times(wisdom)) }}
								<br>
								Total FPS:
								{{ format(currentFluctuator.fps.times(wisdom).times(currentFluctuator.amount)) }}
								<br>
								Cost: {{ format(currentFluctuator.cost) }} Energy
							</p>
							<button
								class="btn btn-danger btn-block"
								v-if="energy.gte(currentFluctuator.cost)"
								@click="getFluctuator()">
								Create 1 {{ currentFluctuator.name[stage] }}
							</button>
							<p v-else>
								You need more energy to create one.
							</p>
						</div>
					</div>
					
					<hr>
					
					<div class="row">
						<div class="col-12">
							<h2 class="text-center">Upgrades</h2>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-3 col-12">
							<nav class="nav nav-pills flex-column select-menu">
								<a
									v-for="(up, id) in upgrades"
									class="nav-link"
									:class="[upgradeMenu === id ? 'active bg-warning' : 'text-warning']"
									href="#"
									@click.prevent="upgradeMenu = id">
									{{ up.name[stage] }}
								</a>
							</nav>
						</div>

						<div class="col-lg-9 col-12">
							<template>
								<h3>{{ currentUpgrade.name[stage] }}</h3>
								<p>
									Level: {{ format(currentUpgrade.level) }}
									<br>
									Effect: {{ currentUpgrade.effect }}
									<br>
									Cost: {{ format(currentUpgrade.cost) }} Energy
								</p>
								<button
									class="btn btn-warning btn-block"
									v-if="energy.gte(currentUpgrade.cost)"
									@click="getUpgrade()">
									Level Up
								</button>
								<p v-else>You need more energy to level up.</p>
							</template>
						</div>
					</div>
				</div>

				<div v-if="menu === 1" key="evolution">
					<div class="row">
						<div class="col-12">
							<h2>Evolving</h2>
							<p>
								Next Stage: {{ stages[stage + 1] }}.
								Right now,
								you have a {{ format(Decimal.pow(5, stage)) }}x
								efficiency multiplier from evolving.
								Evolution will increase the amount of energy you gain per efficiency.
								When you evolve to {{ stages[stage + 1] }},
								you will have a total of {{ format(Decimal.pow(5, stage + 1)) }}x
							</p>

							<p v-if="eff.lt(evolveReq)">
								Status: {{ format(eff) }} /
								{{ format(evolveReq) }} efficiency
								<br>
								{{ format(eff.div(evolveReq).times(100)) }}%
								to next species.
							</p>

							<template v-else>
								<button
									class="btn btn-outline-primary btn-lg btn-block"
									@click="evolve">
									Evolve to {{ stages[stage + 1] }}
								</button>
								<p class="small">Progress is not reset when you evolve.</p>
							</template>
						</div>
					</div>
				</div>
				<div v-if="menu === 2" key="ascension">
					<div class="row">
						<div class="col-12">
							<h2>Ascension</h2>
							<p>
								Ascension will restart the time sequence, but you will retain wisdom.
								Universe Level has a multiplier that will make your progress faster.
								Right now, you have {{ format(wisdom) }} wisdom.
								This creates a {{ format(wisdom) }}x multiplier for efficiency gain,
								increasing the amount of efficiency that you gain from clicking and fluctuator.
							</p>

							<template v-if="this.wisdomGain.gte(1)">
								<button
									class="btn btn-outline-primary btn-lg btn-block"
									@click="ascend">
									ASCEND - Restart the Time Sequence
									<br>
									<span class="small">
										You will gain {{ format(wisdomGain) }} wisdom.
										<br>
										Current:
										{{ format(wisdom) }} &raquo; New: {{ format(wisdom.plus(wisdomGain)) }}
									</span>
								</button>
							</template>

							<p v-else>
								Gain more energy to Ascend.
							</p>
						</div>
					</div>
				</div>

				<div v-if="menu === 3" key="stats">
					<div class="row">
						<div class="col-12">
							<h2>Energy</h2>
							<p>
								Energy: {{ format(energy) }}
								<br>
								Efficiency: {{ format(eff) }}
								<br>
								Total Energy This Ascension: {{ format(totalNow) }}
								<br>
								Total Energy Ever: {{ format(total) }}
							</p>

							<h2>Evolution</h2>
							<p>
								Current Stage: {{ stages[stage] }}
								<br>
								Current Stage Number: {{ stage + 1 }}
								<br>
								Highest Stage Ever: {{ stages[highestStage] }}
							</p>

							<h2>Ascensions</h2>
							<p>
								Universe Level: {{ format(wisdom) }}
								<br>
								Total Ascensions: {{ ascensions }}
								<br>
								Universe Level Gained After Ascension: {{ format(wisdomGain) }}
							</p>
						</div>
					</div>
				</div>

				<div v-if="menu === 4" key="settings">
					<div class="row">
						<div class="col-12">
							<p class="text-center">
								<a
									href="https://cubedhuang.com"
									class="btn btn-outline-primary">
									Back to CubeDHuang
								</a>
							</p>

							<img src="/logo.svg" alt="Evolution Logo" class="logo">
						</div>
					</div>
				</div>
			</transition>
		</div>

		<script src="/resources/decimal.min.js"></script>
		<script src="/resources/format.min.js"></script>
		<script src="/resources/vue.min.js"></script>
		<script src="script.js"></script>
	</body>
</html>
